<Window x:Class="CompanyLock.AdminTool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="CompanyLock Admin Tool" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <TabControl>
            <TabItem Header="Employee Management">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Name="ImportCsvButton" Content="Import CSV" Padding="10,5" Margin="0,0,10,0" Click="ImportCsvButton_Click"/>
                        <Button Name="ExportCsvButton" Content="Export CSV" Padding="10,5" Margin="0,0,10,0" Click="ExportCsvButton_Click"/>
                        <Button Name="AddEmployeeButton" Content="Add Employee" Padding="10,5" Margin="0,0,10,0" Click="AddEmployeeButton_Click"/>
                        <Button Name="RefreshButton" Content="Refresh" Padding="10,5" Click="RefreshButton_Click"/>
                    </StackPanel>
                    
                    <DataGrid Name="EmployeeDataGrid" Grid.Row="1" AutoGenerateColumns="False" 
                              CanUserAddRows="False" SelectionMode="Single">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" IsReadOnly="True" Width="50"/>
                            <DataGridTextColumn Header="Username" Binding="{Binding Username}" Width="120"/>
                            <DataGridTextColumn Header="Full Name" Binding="{Binding FullName}" Width="200"/>
                            <DataGridTextColumn Header="Department" Binding="{Binding Department}" Width="150"/>
                            <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="100"/>
                            <DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="60"/>
                            <DataGridTextColumn Header="Created" Binding="{Binding CreatedAt, StringFormat={}{0:yyyy-MM-dd HH:mm}}" IsReadOnly="True" Width="130"/>
                        </DataGrid.Columns>
                    </DataGrid>
                    
                    <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,10,0,0">
                        <Button Name="EditEmployeeButton" Content="Edit Selected" Padding="10,5" Margin="0,0,10,0" Click="EditEmployeeButton_Click"/>
                        <Button Name="DeleteEmployeeButton" Content="Delete Selected" Padding="10,5" Margin="0,0,10,0" Click="DeleteEmployeeButton_Click"/>
                        <TextBlock Name="StatusLabel" Text="Ready" VerticalAlignment="Center" Margin="20,0,0,0"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <TabItem Header="Audit Logs">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Log Management Controls -->
                    <GroupBox Grid.Row="0" Header="Log Management" Margin="0,0,0,10">
                        <Grid Margin="5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- First row of controls -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,5">
                                <Button Name="ExportLogsButton" Content="Export Logs" Padding="10,5" Margin="0,0,10,0" Click="ExportLogsButton_Click"/>
                                <Button Name="RefreshLogsButton" Content="Refresh" Padding="10,5" Margin="0,0,20,0" Click="RefreshLogsButton_Click"/>
                                <Button Name="ClearAllLogsButton" Content="Clear All Logs" Padding="10,5" Margin="0,0,10,0" Click="ClearAllLogsButton_Click" Background="LightCoral"/>
                                <Button Name="CleanupOldLogsButton" Content="Cleanup Old Logs" Padding="10,5" Margin="0,0,10,0" Click="CleanupOldLogsButton_Click" Background="LightBlue"/>
                            </StackPanel>
                            
                            <!-- Second row of controls -->
                            <StackPanel Grid.Row="1" Orientation="Horizontal">
                                <TextBlock Text="Filter by Date:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                <DatePicker Name="StartDatePicker" Width="120" Margin="0,0,5,0"/>
                                <TextBlock Text="to" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                <DatePicker Name="EndDatePicker" Width="120" Margin="0,0,10,0"/>
                                <Button Name="DeleteByDateButton" Content="Delete by Date Range" Padding="10,5" Margin="0,0,10,0" Click="DeleteByDateButton_Click" Background="Orange"/>
                                
                                <TextBlock Text="Event Type:" VerticalAlignment="Center" Margin="10,0,5,0"/>
                                <ComboBox Name="EventTypeComboBox" Width="120" Margin="0,0,5,0"/>
                                <Button Name="DeleteByTypeButton" Content="Delete by Type" Padding="10,5" Margin="0,0,10,0" Click="DeleteByTypeButton_Click" Background="Orange"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                    
                    <!-- Log Statistics -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Name="LogCountLabel" Text="Total Logs: 0" Margin="0,0,20,0" FontWeight="Bold"/>
                        <TextBlock Name="DatabaseSizeLabel" Text="Database Size: 0 KB" Margin="0,0,20,0" FontWeight="Bold"/>
                        <TextBlock Name="LastCleanupLabel" Text="Last Cleanup: Never" Margin="0,0,20,0"/>
                    </StackPanel>
                    
                    <DataGrid Name="AuditLogsDataGrid" Grid.Row="2" AutoGenerateColumns="False" 
                              CanUserAddRows="False" IsReadOnly="True" SelectionMode="Extended">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Timestamp" Binding="{Binding Timestamp, StringFormat={}{0:dd/MM/yyyy HH:mm:ss}}" Width="140"/>
                            <DataGridTextColumn Header="Event Type" Binding="{Binding EventType}" Width="120"/>
                            <DataGridTextColumn Header="Employee" Binding="{Binding Employee.Username}" Width="100"/>
                            <DataGridTextColumn Header="Device" Binding="{Binding Device.Hostname}" Width="120"/>
                            <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                    
                    <!-- Selected logs management -->
                    <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,10,0,0">
                        <Button Name="DeleteSelectedLogsButton" Content="Delete Selected Logs" Padding="10,5" Margin="0,0,10,0" Click="DeleteSelectedLogsButton_Click" Background="Tomato"/>
                        <TextBlock Name="SelectedCountLabel" Text="Selected: 0 logs" VerticalAlignment="Center" Margin="10,0,0,0"/>
                        <TextBlock Name="LogStatusLabel" Text="Ready" VerticalAlignment="Center" Margin="20,0,0,0"/>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>